"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["custom_plugins_nosto-shopware6_src_Resources_app_storefront_src_js_plugin_nosto_plugin_js"],{163:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var o=n(266);class s extends window.PluginBaseClass{init(){window.Nosto={addProductToCart:(t,e,n)=>{this._addMultipleToCart([{productId:t,skuId:t,quantity:n}],e)},addMultipleProductsToCart:(t,e)=>{this._addMultipleToCart(t,e)},addSkuToCart:(t,e,n)=>{this._addMultipleToCart([{...t,quantity:n}],e)}},this._nostoElementId=this.el.nextElementSibling.id?this.el.nextElementSibling.id:""}_resolveContextSlotId(t){return t&&t.closest(".nosto_element")&&t.closest(".nosto_element").getAttribute("id")?t.closest(".nosto_element").getAttribute("id"):this._nostoElementId}_addMultipleToCart(t,e){let n={lineItems:{},redirectTo:this.options.redirectTo};t.forEach(t=>{n.lineItems[t.skuId]={id:t.skuId,quantity:Number.isInteger(t.quantity)?t.quantity:1,type:"product",referencedId:t.skuId,stackable:1,removable:1},this.$emitter.publish("addRecommendationToCart",{productId:t.productId,elementId:this._resolveContextSlotId(e)})}),this._openOffCanvasCarts(this.options.action,JSON.stringify(n))}_openOffCanvasCarts(t,e){let n=window.PluginManager.getPluginInstances("OffCanvasCart");o.Z.iterate(n,n=>this._openOffCanvasCart(n,t,e))}_openOffCanvasCart(t,e,n){t.openOffCanvas(e,n,()=>{this.$emitter.publish("openOffCanvasCart")})}}s.options={redirectTo:"frontend.cart.offcanvas",action:"/checkout/line-item/add"}},266:(t,e,n)=>{n.d(e,{Z:()=>o});class o{static iterate(t,e){if(t instanceof Map||Array.isArray(t))return t.forEach(e);if(t instanceof FormData){for(var n of t.entries())e(n[1],n[0]);return}if(t instanceof NodeList)return t.forEach(e);if(t instanceof HTMLCollection)return Array.from(t).forEach(e);if(t instanceof Object)return Object.keys(t).forEach(n=>{e(t[n],n)});throw Error("The element type ".concat(typeof t," is not iterable!"))}}}}]);