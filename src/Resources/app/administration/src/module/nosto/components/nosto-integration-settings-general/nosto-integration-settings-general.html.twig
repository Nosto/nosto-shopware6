{% block nosto_integration_content_card_channel_config_accounts_card %}
    <div>
        <sw-card class="sw-card--grid is-general-settings"
                 :title="$tc('nosto.configuration.general.title')">

            {% block nosto_integration_setting_deferred_init %}
            <sw-inherit-wrapper v-model="actualConfigData['NostoIntegration.config.isInitializeNostoAfterInteraction']"
                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs['null']['NostoIntegration.config.isInitializeNostoAfterInteraction']">

                <template #content="props">
                    <sw-switch-field
                            :label="$tc('nosto.configuration.general.deferredInit.label')"
                            :map-inheritance="props"
                            :disabled="props.isInherited"
                            :value="props.currentValue"
                            @change="props.updateCurrentValue"
                            :helpText="$tc('nosto.configuration.general.deferredInit.helpText')"
                    />
                </template>
            </sw-inherit-wrapper>
            {% endblock %}

            {% block nosto_integration_setting_merch %}
                <sw-inherit-wrapper v-model="actualConfigData['NostoIntegration.config.enableMerch']"
                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs['null']['NostoIntegration.config.enableMerch']">

                    <template #content="props">
                        <sw-switch-field
                            :map-inheritance="props"
                            :label="$tc('nosto.configuration.general.merch.label')"
                            :help-text="$tc('nosto.configuration.general.merch.helpText')"
                            :disabled="props.isInherited"
                            :value="props.currentValue"
                            @change="props.updateCurrentValue"
                        />
                    </template>
                </sw-inherit-wrapper>
            {% endblock %}

            {% block nosto_integration_setting_notLoggedInCache %}
                <sw-inherit-wrapper v-if="actualConfigData['NostoIntegration.config.enableMerch']"
                                    v-model="actualConfigData['NostoIntegration.config.notLoggedInCache']"
                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs['null']['NostoIntegration.config.notLoggedInCache']">

                    <template #content="props">
                        <sw-switch-field
                            :map-inheritance="props"
                            :label="$tc('nosto.configuration.general.notLoggedInCache.label')"
                            :disabled="props.isInherited"
                            :value="props.currentValue"
                            @change="props.updateCurrentValue"
                            :helpText="$tc('nosto.configuration.general.notLoggedInCache.helpText')"
                        />
                    </template>
                </sw-inherit-wrapper>
            {% endblock %}

            {% block nosto_integration_setting_sales_channel_domain %}
                <sw-entity-single-select v-if="selectedSalesChannelId !== null"
                                         :label="$tc('nosto.configuration.general.domain.label')"
                                         :help-text="$tc('nosto.configuration.general.domain.helpText')"
                                         labelProperty="url"
                                         valueProperty="id"
                                         :criteria="domainCriteria"
                                         show-clearable-button
                                         entity="sales_channel_domain"
                                         v-model="actualConfigData['NostoIntegration.config.domain']"
                />
            {% endblock %}
        </sw-card>

        <sw-card class="sw-card--grid"
                 :title="$tc('nosto.configuration.tagAssignment.title')">
            {% block nosto_integration_settings_custom_fields %}
                <sw-inherit-wrapper v-model="actualConfigData['NostoIntegration.config.selectedCustomFields']"
                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs['null']['NostoIntegration.config.selectedCustomFields']"
                                    :label="$tc('nosto.configuration.tagAssignment.selectedCustomFieldsTitle')"
                                    :help-text="$tc('nosto.configuration.tagAssignment.selectedCustomFieldsHelpText')">
                    <template #content="props">
                        <sw-multi-select name="NostoIntegration.config.selectedCustomFields"
                                          labelProperty="label"
                                          valueProperty="id"
                                          :options="productCustomFields"
                                          :isInherited="props.isInherited"
                                          :disabled="props.isInherited"
                                          :value="props.currentValue"
                                          @change="props.updateCurrentValue">
                        </sw-multi-select>
                    </template>
                </sw-inherit-wrapper>
            {% endblock %}

            {% block nosto_integration_settings_tag_1 %}
                <sw-inherit-wrapper v-model="actualConfigData['NostoIntegration.config.tag1']"
                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs['null']['NostoIntegration.config.tag1']"
                                    :label="$tc('nosto.configuration.tagAssignment.tag1title')">

                    <template #content="props">
                        <sw-multi-select name="NostoIntegration.config.tag1"
                                         labelProperty="label"
                                         valueProperty="id"
                                         :options="productTags"
                                         :isInherited="props.isInherited"
                                         :disabled="props.isInherited"
                                         :value="props.currentValue"
                                         @change="props.updateCurrentValue">
                        </sw-multi-select>
                    </template>
                </sw-inherit-wrapper>
            {% endblock %}

            {% block nosto_integration_settings_tag_2 %}
                <sw-inherit-wrapper v-model="actualConfigData['NostoIntegration.config.tag2']"
                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs['null']['NostoIntegration.config.tag2']"
                                    :label="$tc('nosto.configuration.tagAssignment.tag2title')">

                    <template #content="props">
                        <sw-multi-select name="NostoIntegration.config.tag2"
                                         labelProperty="label"
                                         valueProperty="id"
                                         :options="productTags"
                                         :isInherited="props.isInherited"
                                         :disabled="props.isInherited"
                                         :value="props.currentValue"
                                         @change="props.updateCurrentValue">
                        </sw-multi-select>
                    </template>
                </sw-inherit-wrapper>
            {% endblock %}

            {% block nosto_integration_settings_tag_3 %}
                <sw-inherit-wrapper v-model="actualConfigData['NostoIntegration.config.tag3']"
                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs['null']['NostoIntegration.config.tag3']"
                                    :label="$tc('nosto.configuration.tagAssignment.tag3title')">

                    <template #content="props">
                        <sw-multi-select name="NostoIntegration.config.tag3"
                                         labelProperty="label"
                                         valueProperty="id"
                                         :options="productTags"
                                         :isInherited="props.isInherited"
                                         :disabled="props.isInherited"
                                         :value="props.currentValue"
                                         @change="props.updateCurrentValue">
                        </sw-multi-select>
                    </template>
                </sw-inherit-wrapper>
            {% endblock %}

            {% block nosto_integration_settings_tag_google_category %}
                <sw-inherit-wrapper v-model="actualConfigData['NostoIntegration.config.googleCategory']"
                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs['null']['NostoIntegration.config.googleCategory']"
                                    :label="$tc('nosto.configuration.tagAssignment.googleCategoryTitle')"
                                    :help-text="$tc('nosto.configuration.tagAssignment.googleCategoryHelpText')">
                    <template #content="props">

                        <sw-single-select name="NostoIntegration.config.googleCategory"
                                          labelProperty="label"
                                          valueProperty="id"
                                          :options="productCustomFields"
                                          :isInherited="props.isInherited"
                                          :disabled="props.isInherited"
                                          show-clearable-button
                                          @clear="clearTagValue('googleCategory')"
                                          :value="props.currentValue"
                                          @change="props.updateCurrentValue">
                        </sw-single-select>
                    </template>
                </sw-inherit-wrapper>
            {% endblock %}
        </sw-card>
    </div>
{% endblock %}
